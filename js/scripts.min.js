"use strict";var app=angular.module("veedorApp",["ngMaterial","ngMdIcons","ngRoute","ngResource"]);app.config(function(a){a.when("/",{controller:"MainCtrl"}).when("/category",{controller:"CategoryCtrl",templateUrl:"tpl/categories.html"}).when("/category/new",{controller:"CategoryCtrl",templateUrl:"tpl/categories_new.html"}).otherwise({redirectTo:"/"})}),app.config(function(a){a.theme("default").primaryPalette("indigo",{"default":"800"}).accentPalette("amber",{"default":"500"})});var domain="http://localhost:8000";app.factory("Category",function(a){var b=domain+"/api/categories/",c=a(b+":id",{id:"@id",category:"@category"},{save:{method:"POST",transformRequest:function(a,b){return b=angular.extend({},b,{"Content-Type":"application/json"}),angular.toJson(a)}},"new":{method:"GET",url:b+"new.json"},"delete":{method:"DELETE",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"},isArray:!1}});return c}),app.controller("CategoryCtrl",function(a,b,c,d,e,f){function g(){f.query(function(b){a.categories=b})}function h(a,b,c){a.category=c,a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.answer=function(a){b.hide(a)},a.saveCategory=function(a){var c=new f(a);c.$save(function(a,c){g(),b.hide()})},a.updateCategory=function(a){var c=new f(a);c.$update({id:a.id},a),g(),b.hide()}}function i(b){for(var c=0,d=a.categories.length;d>c;c++)if(a.categories[c].id===b){f["delete"]({id:b}),a.categories.splice(c,1),e.show(e.simple().textContent("Category was deleted!"));break}}a.title="Categorias",a.categories=f.query(),a.rsCategory={},a.goToCategory=function(c,d){a.category=f.get({id:c}),b.show({controller:h,templateUrl:"tpl/categories_show.html",parent:angular.element(document.body),targetEvent:d,clickOutsideToClose:!0,locals:{category:a.category}})},a.showDelete=function(a,c){var d=b.confirm().title("ADVERTENCIA!").textContent('Desea eliminar la categoría "'+a.name+'"?').ariaLabel("Eliminar categoría").targetEvent(c).ok("Cancel").cancel("Ok");b.show(d).then(function(){console.log("Cancel delete")},function(){i(a.id)})},a.showAdd=function(a){b.show({controller:h,templateUrl:"tpl/categories_new.html",parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:!0,locals:{category:null}})},a.editCategory=function(a,c){b.show({controller:h,templateUrl:"tpl/categories_edit.html",parent:angular.element(document.body),targetEvent:c,clickOutsideToClose:!0,locals:{category:a}})},a.fields=f["new"]()}),app.controller("MainCtrl",["$scope","$mdBottomSheet","$mdSidenav","$mdDialog",function(a,b,c,d){a.toggleSidenav=function(a){c(a).toggle()},a.menu=[{link:"/#/category",title:"Categories",icon:"dashboard"}]}]);