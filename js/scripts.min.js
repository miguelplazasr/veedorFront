"use strict";var app=angular.module("veedorApp",["ngMaterial","ngMdIcons","ngRoute","ngResource","md.data.table"]);app.config(function(a){a.when("/",{controller:"MainCtrl"}).when("/category",{controller:"CategoryCtrl",templateUrl:"tpl/categories.html"}).when("/category/new",{controller:"CategoryCtrl",templateUrl:"tpl/categories_new.html"}).otherwise({redirectTo:"/"})}),app.config(function(a){a.theme("default").primaryPalette("pink").accentPalette("orange")});var domain="http://localhost:8000";app.factory("Category",function(a){var b=domain+"/api/categories/",c=a(b+":id",{id:"@id"},{save:{method:"POST",transformRequest:function(a,b){return b=angular.extend({},b,{"Content-Type":"application/json"}),angular.toJson(a)}},"new":{method:"GET",url:b+"new.json"},"delete":{method:"DELETE",params:{id:"@id"}}});return c}),app.controller("MainCtrl",["$scope","$mdBottomSheet","$mdSidenav","$mdDialog",function(a,b,c,d){a.toggleSidenav=function(a){c(a).toggle()},a.menu=[{link:"/#/category",title:"Categories",icon:"dashboard"}]}]),app.controller("CategoryCtrl",["$scope","$mdDialog","$mdMedia","$location","Category",function(a,b,c,d,e){a.title="Categorias",a.query={order:name,limit:5,page:1},a.categories=e.query(),a.rsCategory={},a.saveCategory=function(a){var b=new e(a);b.$save(function(a,b){d.path("/category"),console.log("Record saved!")})},a.deleteCategory=function(b){for(var c=0,d=a.categories.length;d>c;c++)if(a.categories[c].id===b){e["delete"]({id:b}),a.categories.splice(c,1);break}console.log("Category it's deleted.")},a.fields=e["new"]()}]);